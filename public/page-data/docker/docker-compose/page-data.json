{"componentChunkName":"component---src-templates-blog-post-js","path":"/docker/docker-compose/","result":{"data":{"site":{"siteMetadata":{"title":"Rahul's Blog"}},"markdownRemark":{"id":"ba9a3ed1-ed38-5626-ba4d-585586f70725","excerpt":"What is docker compose? Docker compose is a tool for defining & running multi-container docker applications use yaml files to configure application servicesâ€¦","html":"<h1>What is docker compose?</h1>\n<p>Docker compose is a tool for defining &#x26; running multi-container docker applications</p>\n<ul>\n<li>use yaml files to configure application services (<strong>docker-compose.yml</strong>)</li>\n<li>can start all services with a single command (<strong>docker compose up</strong>)</li>\n<li>can stop all services with a single command (<strong>docker compose down</strong>)</li>\n<li>can scale up selected services when required</li>\n</ul>\n<h4>Step 1: Install docker compose</h4>\n<p>Docker Desktop for Mac and Windows, Docker Toolbox already include Compose along with other Docker apps, so Mac &#x26; Windows users do not need to install Compose separately.</p>\n<p><strong>For Linux</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose\n\n$ sudo chmod +x /usr/local/bin/docker-compose</code></pre></div>\n<p>Check if installed successfully</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ docker-compose -v</code></pre></div>\n<h5>Still unable to install docker-compose?</h5>\n<p>Follow the tutorial: <a href=\"https://docs.docker.com/compose/install/\">https://docs.docker.com/compose/install/</a></p>\n<h4>Step 2: Create docker compose file at any location</h4>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ touch docker-compose.yml</code></pre></div>\n<p>Enter the following instructions in <code class=\"language-text\">docker-compose.yml</code> file.\nThis will be used to create services(web and database in this case)</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">web</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n    \n    <span class=\"token key atrule\">database</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> redis</code></pre></div>\n<h4>Step 3: Check the validity of the compose file</h4>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># move into the compose file directory and run the command\n$ docker-compose config</code></pre></div>\n<p>If any error occurs, please refer: <a href=\"https://docs.docker.com/compose/compose-file/\">https://docs.docker.com/compose/compose-file/</a></p>\n<h4>Step 4: Run docker-compose.yml file</h4>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ docker-compose up</code></pre></div>\n<p>It will start all the services in one command.</p>\n<p>To start in detached mode</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ docker-compose up -d</code></pre></div>\n<h4>Step 5: Check current containers</h4>\n<p>List all containers using this command</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ docker ps</code></pre></div>\n<h4>Step 6: Stop all services</h4>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ docker-compose down</code></pre></div>\n<p>It will stop all the running services in one command</p>\n<h4>Step 7: Scaling services</h4>\n<p>You can scale up any service using this command</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ docker-compose up -d --scale &lt;service-key&gt;=&lt;number-of-instance&gt;\n\n# Example\n$ docker-compose up -d --scale database=4</code></pre></div>","frontmatter":{"title":"Docker Compose","date":"August 01, 2020","description":"Learn what is docker-compose and what you can achieve with it. Start and stop all services in one command, scale up services using docker-compose"}}},"pageContext":{"slug":"/docker/docker-compose/","previous":{"fields":{"slug":"/docker/docker-volumes/"},"frontmatter":{"title":"Docker Volume"}},"next":{"fields":{"slug":"/docker/docker-file/"},"frontmatter":{"title":"Dockerfile"}}}}}